<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic Chat Widget</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: #f5f5f5;
    }

    .chat-widget-container {
      position: fixed;
      bottom: 0;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
    }

    .chat-button {
      width: 200px;
      height: 50px;
      background: linear-gradient(140deg, #000000, #e5ff00);
      border-radius: 10px 10px 0 0;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      cursor: pointer;
      box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .chat-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 -8px 25px rgba(0, 0, 0, 0.3);
    }

    .chat-button .button-image {
      width: 160px;
      height: 40px;
      position: relative;
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chat-button .button-image img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .chat-window-container {
      position: fixed;
      bottom: 150px;
      right: 20px;
      width: 350px;
      height: 500px;
      pointer-events: none;
      opacity: 0;
      transform: translateY(20px) scale(0.9);
      transition: all 0.3s ease;
    }

    .chat-widget-container.active .chat-window-container {
      opacity: 1;
      transform: translateY(0) scale(1);
      pointer-events: auto;
    }

    .chat-window {
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 15px 15px 0 0;
      box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.15);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .chat-widget-container.active .chat-button {
      display: none;
    }

    .chat-header {
      background: linear-gradient(135deg, #4a6cf7, #7b4af7);
      color: white;
      padding: 18px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .chat-header h3 {
      font-weight: 600;
      font-size: 18px;
      display: flex;
      align-items: center;
    }

    .chat-header h3 i {
      margin-right: 10px;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      font-size: 12px;
      margin-left: 10px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background-color: #4ade80;
      margin-right: 5px;
    }

    .close-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .close-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .chat-body {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background-color: #f8f9fa;
      display: flex;
      flex-direction: column;
    }

    .message {
      margin-bottom: 15px;
      display: flex;
      flex-direction: column;
    }

    .message.received {
      align-items: flex-start;
    }

    .message.sent {
      align-items: flex-end;
    }

    .message-bubble {
      padding: 12px 16px;
      border-radius: 18px;
      max-width: 80%;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      word-wrap: break-word;
    }

    .received .message-bubble {
      background: white;
      border: 1px solid #e1e5eb;
      border-radius: 18px 18px 18px 5px;
    }

    .sent .message-bubble {
      background: linear-gradient(135deg, #4a6cf7, #7b4af7);
      color: white;
      border-radius: 18px 18px 5px 18px;
    }

    .message-time {
      font-size: 11px;
      color: #8c8c8c;
      margin-top: 5px;
    }

    .chat-footer {
      padding: 15px;
      border-top: 1px solid #e1e5eb;
      display: flex;
      background: white;
    }

    .input-container {
      flex: 1;
      display: flex;
      align-items: center;
      background: #f1f3f4;
      border-radius: 50px;
      padding: 5px 15px;
    }

    .message-input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 14px;
      padding: 8px 0;
      background: transparent;
      resize: none;
      max-height: 100px;
      overflow-y: auto;
    }

    .send-btn {
      background: linear-gradient(135deg, #4a6cf7, #7b4af7);
      color: white;
      border: none;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      margin-left: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
    }

    .send-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 3px 10px rgba(74, 108, 247, 0.4);
    }

    /* Chat Sticker */
    .chat-sticker {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      overflow: hidden;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      position: fixed;
      bottom: 60px;
      right: 100px;
      z-index: 1001;
      display: none;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
      100% { transform: translateY(0px) rotate(0deg); }
    }

    .chat-widget-container.active .chat-sticker {
      display: block;
    }

    .chat-sticker:hover {
      transform: scale(1.2) rotate(10deg);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    }

    .chat-sticker img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    /* Mobile responsiveness */
    @media (max-width: 480px) {
      .chat-widget-container {
        right: 10px;
      }
      
      .chat-window-container {
        width: calc(100vw - 40px);
        right: 10px;
      }
      
      .chat-button {
        width: 180px;
      }
      
      .chat-button .button-image {
        width: 140px;
        height: 35px;
      }
      
      .chat-sticker {
        right: 60px;
      }
    }
  </style>
</head>
<body>
  <div class="chat-widget-container" id="chatWidgetContainer"> 
    <div class="chat-button" id="chatButton">
      <div class="button-image">
        <img src="./images/min.gif" alt="Minnmini">
      </div>
    </div>

    <div class="chat-window-container" id="chatWindowContainer">
      <div class="chat-window" id="chatWindow">
        <div class="chat-header">
          <h3>
            <i class="fas fa-robot"></i> 
            Minnmini
            <div class="status-indicator">
              <div class="status-dot"></div>
              <span>Online</span>
            </div>
          </h3>
          <button class="close-btn" id="closeButton" title="Close">
            <i class="fas fa-times"></i>
          </button>
        </div>

        <div class="chat-body" id="chatBody">
          <div class="message received">
            <div class="message-bubble">Hi! I'm Minnmini ðŸ‘‹ How can I help you today?</div>
            <div class="message-time">10:00 AM</div>
          </div>
        </div>

        <div class="chat-footer">
          <div class="input-container">
            <textarea class="message-input" id="messageInput" placeholder="Type your message..." rows="1"></textarea>
          </div>
          <button class="send-btn" id="sendButton"><i class="fas fa-paper-plane"></i></button>
        </div>
      </div>
    </div>

    <!-- Minnmini Sticker -->
    <div class="chat-sticker" id="chatSticker">
      <img src="./images/log2.gif" alt="Minnmini">
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const chatWidgetContainer = document.getElementById("chatWidgetContainer");
      const chatButton = document.getElementById("chatButton");
      const chatSticker = document.getElementById("chatSticker");
      const closeButton = document.getElementById("closeButton");
      const sendButton = document.getElementById("sendButton");
      const messageInput = document.getElementById("messageInput");
      const chatBody = document.getElementById("chatBody");
      
      // Bot responses
      const botResponses = [
        "I'm Minnmini, your virtual assistant! I can answer questions, help with tasks, and provide information.",
        "That's an interesting question! Let me check my knowledge base...",
        "I'm here to help! Is there anything specific you'd like to know?",
        "I'm still learning, but I'll do my best to help you with that!"
      ];
      
      // Event listeners
      chatButton.addEventListener("click", () => {
        chatWidgetContainer.classList.add("active");
        messageInput.focus();
      });
      
      closeButton.addEventListener("click", () => chatWidgetContainer.classList.remove("active"));
      chatSticker.addEventListener("click", () => chatWidgetContainer.classList.remove("active"));
      
      sendButton.addEventListener("click", sendMessage);
      messageInput.addEventListener("keypress", e => { 
        if (e.key === "Enter" && !e.shiftKey) { 
          e.preventDefault(); 
          sendMessage(); 
        } 
      });
      
      // Auto-resize textarea
      messageInput.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = Math.min(this.scrollHeight, 100) + 'px';
      });
      
      // Functions
      function sendMessage() {
        const message = messageInput.value.trim();
        if (!message) return;
        
        addMessage(message, "sent");
        messageInput.value = '';
        messageInput.style.height = 'auto';
        
        // Add typing indicator
        const typingIndicator = document.createElement("div");
        typingIndicator.className = "typing-indicator";
        typingIndicator.innerHTML = `<div class="typing-dots">
                                       <span></span>
                                       <span></span>
                                       <span></span>
                                     </div>`;
        chatBody.appendChild(typingIndicator);
        chatBody.scrollTop = chatBody.scrollHeight;
        
        setTimeout(() => {
          // Remove typing indicator
          typingIndicator.remove();
          
          // Randomly decide between text response and sticker
          if (Math.random() > 0.7) {
            addStickerMessage();
          } else {
            // Get a random response
            const randomResponse = botResponses[Math.floor(Math.random() * botResponses.length)];
            addMessage(randomResponse, "received");
          }
        }, 1500);
      }

      function addMessage(text, type) {
        const div = document.createElement("div");
        div.className = `message ${type}`;
        div.innerHTML = `<div class="message-bubble">${text}</div>
                         <div class="message-time">${getTime()}</div>`;
        
        chatBody.appendChild(div);
        chatBody.scrollTop = chatBody.scrollHeight;
      }

      function addStickerMessage() {
        const div = document.createElement("div");
        div.className = "message received";
        div.innerHTML = `<div class="sticker-message">
                           <img src="./images/log.gif" alt="Minnmini" style="width: 100px; height: 100px; border-radius: 10px;">
                         </div>
                         <div class="message-time">${getTime()}</div>`;
        
        chatBody.appendChild(div);
        chatBody.scrollTop = chatBody.scrollHeight;
      }

      function getTime() {
        const now = new Date();
        const h = now.getHours();
        const m = now.getMinutes().toString().padStart(2, "0");
        return `${h % 12 || 12}:${m} ${h >= 12 ? "PM" : "AM"}`;
      }
    });
  </script>
</body>
</html>